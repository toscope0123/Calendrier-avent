<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calendrier de l'Avent</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #2a003f, #6a1b9a);
      margin: 0;
      padding: 20px;
      text-align: center;
      color: white;
    }
    h1 {
      margin-bottom: 20px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
      max-width: 800px;
      margin: auto;
      perspective: 1000px; /* nécessaire pour l'animation flip */
    }
    .case {
      background: #c0392b;
      color: white;
      padding: 20px;
      font-size: 20px;
      border-radius: 10px;
      cursor: pointer;
      transition: transform 0.6s;
      transform-style: preserve-3d;
      position: relative;
    }
    .case.open {
      background: #27ae60;
      cursor: default;
      transform: rotateY(180deg);
    }
    .case-front, .case-back {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 10px;
    }
    .case-front {
      background: #c0392b;
      color: white;
    }
    .case-back {
      background: #27ae60;
      color: white;
      transform: rotateY(180deg);
      padding: 10px;
      font-size: 18px;
    }
    .case:hover {
      background: #e74c3c;
    }
    .message {
      margin-top: 20px;
      font-size: 22px;
      padding: 20px;
      background: white;
      color: black;
      border-radius: 12px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      display: none;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://us.123rf.com/450wm/splitov27/splitov272103/splitov27210300075/166246619-menottes-pour-jeux-sexuels-sur-fond-violet-jouet-bdsm-sexuel-f%C3%A9tiche-concept-%C3%A9rotique.jpg?ver=6') center/cover no-repeat;
      opacity: 0.25;
      z-index: -1;
    }
  </style>
</head>
<body>
  <h1>Calendrier de l'Avent MMS, à n'ouvrir qu'à deux ;)</h1>
  <div class="grid" id="grid"></div>
  <div id="message" class="message"></div>

  <script>
    const messages = [
      "01 faites vous un massage sensuel chacun votre tour. bougies, ambiance lumineuse, sonore obligatoire",
      "02 chacun tire une carte à osmoz niveau 2 ou 3 et doit faire ou recevoir ce qui est écrit",
      "03 prenez une douche en amoureux",
      "04 Matthieu se bande les yeux et marie peut lui faire ce qu’elle veux",
      "05 Marie se bande les yeux et Matthieu peut faire de qu’il veux",
      "06 choisissez un de vos jouet et faites vous plaisir chacun l’un en face de l’autre",
      "07 Faites l’amour ailleurs dans la maison",
      "08 partagez une douche ensemble les yeux bandés",
      "09 Marie propose quelque chose jamais fait qu’elle voudrait bien essayer",
      "10 Demain chacun devra envoyer un message, une photo ou cacher un message pour exciter son partenaire  dans la journée",
      "11 Choisissez une position du kamasutra inconnue que vous voudriez essayer",
      "12 ecouter un podcast sexy (nu ou pas même si ca peut aider)",
      "13 regardez un film demain et enlevez un vêtement dès qu’un mot au choix est prononcé ou que ca colle avec une moustache",
      "14 s’essayer à un shooting sexy en amoureux",
      "15 se faire du bien au réveil demain matin, réveiller l’autre de façon coquinee",
      "16 faites vous à tour de rôle un massage … qui dérape",
      "17 dormez nus, et laisser vous porter par vos envies (si vous tenez jusqu’au sommeil)",
      "18 Marie attache matthieu et fais ce qu’elle veux (jouets autorisés)",
      "19 a l’aide de gode ventouse dans la douche Marie se fait plaisir et s’occupe de Matthieu en parallèle",
      "20 donnez vous du plaisir chacun l’un l’autre en face à face ou allongés en quinconce",
      "21 profitez de moments de partage, photos, vidéo drole, mais ensemble",
      "22 trouvez un jeux coquin à deux",
      "23 faites vous un massage sensuel chacun votre tour. bougies, ambiance lumineuse,...",
      "Joyeux Noël <3"
    ];

    const grid = document.getElementById("grid");
    const messageBox = document.getElementById("message");

    const today = new Date();
    const currentMonth = today.getMonth(); // 0 = janvier, 11 = décembre
    const currentDay = today.getDate();

    let openedCases = JSON.parse(localStorage.getItem("openedCases")) || [];

    messages.forEach((msg, i) => {
      const day = i + 1;

      // Création de la case avec faces front et back
      const cell = document.createElement("div");
      cell.className = "case";

      const front = document.createElement("div");
      front.className = "case-front";
      front.textContent = day;

      const back = document.createElement("div");
      back.className = "case-back";
      back.textContent = msg;

      cell.appendChild(front);
      cell.appendChild(back);

      const isOpen = openedCases.includes(day);

      if (isOpen || (currentMonth === 11 && day <= currentDay)) {
        cell.classList.add("open");
      } else {
        cell.style.opacity = "0.4";
        cell.style.cursor = "not-allowed";
      }

      cell.addEventListener("click", () => {
        if (!isOpen && currentMonth === 11 && day <= currentDay) {
          cell.classList.add("open");
          openedCases.push(day);
          localStorage.setItem("openedCases", JSON.stringify(openedCases));
        }
        if (currentMonth === 11 && day <= currentDay) {
          messageBox.textContent = msg;
          messageBox.style.display = "block";
        } else {
          messageBox.textContent = "Vous ne pouvez ouvrir cette case que le " + day + " décembre !";
          messageBox.style.display = "block";
        }
      });

      grid.appendChild(cell);
    });
  </script>
</body>
</html>


